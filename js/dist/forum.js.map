{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@fof/socialprofile/webpack/bootstrap","webpack://@fof/socialprofile/webpack/runtime/compat get default export","webpack://@fof/socialprofile/webpack/runtime/define property getters","webpack://@fof/socialprofile/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/socialprofile/webpack/runtime/make namespace object","webpack://@fof/socialprofile/external root \"flarum.core.compat['forum/app']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/models/User']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Badge']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@fof/socialprofile/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/socialprofile/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/withAttr']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/socialprofile/./src/forum/components/IconSelectorComponent.js","webpack://@fof/socialprofile/./src/forum/components/WebsiteInputComponent.js","webpack://@fof/socialprofile/./src/forum/helpers/isValidUrl.js","webpack://@fof/socialprofile/./src/forum/helpers/extractUriHost.js","webpack://@fof/socialprofile/./src/forum/components/SocialButtonsModal.js","webpack://@fof/socialprofile/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Badge'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/withAttr'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import Dropdown from 'flarum/common/components/Dropdown';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport icon from 'flarum/common/helpers/icon';\nimport classList from 'flarum/common/utils/classList';\n\nexport default class IconSelectorComponent extends Dropdown {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.className = 'icondropdown';\n    attrs.buttonClassName = 'Button Button--icon';\n    attrs.menuClassName = 'social-dropdown-menu';\n  }\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.icons = {\n      social: [\n        'fas fa-envelope',\n        'fas fa-globe',\n        'fab fa-amazon',\n        'fab fa-angellist',\n        'fab fa-apple',\n        'fab fa-behance',\n        'fab fa-bitbucket',\n        'fab fa-codepen',\n        'fab fa-connectdevelop',\n        'fab fa-dashcube',\n        'fab fa-delicious',\n        'fab fa-deviantart',\n        'fab fa-digg',\n        'fab fa-discord',\n        'fab fa-dribbble',\n        'fab fa-dropbox',\n        'fab fa-drupal',\n        'fab fa-facebook',\n        'fab fa-flickr',\n        'fab fa-foursquare',\n        'fab fa-get-pocket',\n        'fab fa-git',\n        'fab fa-github',\n        'fab fa-github-alt',\n        'fab fa-google',\n        'fab fa-google-plus',\n        'fab fa-google-wallet',\n        'fab fa-hacker-news',\n        'fab fa-instagram',\n        'fab fa-ioxhost',\n        'fab fa-joomla',\n        'fab fa-jsfiddle',\n        'fab fa-lastfm',\n        'fab fa-leanpub',\n        'fab fa-linkedin',\n        'fab fa-mastodon',\n        'fab fa-medium',\n        'fab fa-odnoklassniki',\n        'fab fa-opencart',\n        'fab fa-pagelines',\n        'fab fa-paypal',\n        'fab fa-pied-piper-alt',\n        'fab fa-pinterest-p',\n        'fab fa-playstation',\n        'fab fa-qq',\n        'fab fa-reddit',\n        'fab fa-renren',\n        'fab fa-sellsy',\n        'fas fa-share-alt',\n        'fab fa-shirtsinbulk',\n        'fab fa-simplybuilt',\n        'fab fa-skyatlas',\n        'fab fa-skype',\n        'fab fa-slack',\n        'fab fa-slideshare',\n        'fab fa-soundcloud',\n        'fab fa-spotify',\n        'fab fa-stack-exchange',\n        'fab fa-stack-overflow',\n        'fab fa-steam',\n        'fab fa-stumbleupon',\n        'fab fa-telegram',\n        'fab fa-tencent-weibo',\n        'fab fa-trello',\n        'fab fa-tripadvisor',\n        'fab fa-tumblr',\n        'fab fa-twitch',\n        'fab fa-twitter',\n        'fab fa-viacoin',\n        'fab fa-vimeo',\n        'fab fa-vine',\n        'fab fa-vk',\n        'fab fa-weibo',\n        'fab fa-weixin',\n        'fab fa-whatsapp',\n        'fab fa-wordpress',\n        'fab fa-xbox',\n        'fab fa-xing',\n        'fab fa-y-combinator',\n        'fab fa-yandex',\n        'fab fa-yandex-international',\n        'fab fa-yelp',\n        'fab fa-youtube',\n      ],\n    };\n  }\n\n  view(vnode) {\n    vnode.children = this.items().toArray();\n\n    return super.view(vnode);\n  }\n\n  getButtonContent() {\n    const ic = (str) => icon(str, { className: 'icondropdown-activeIcon fa-fw' });\n\n    return [\n      /^favicon(-\\w+)?$/.test(this.attrs.selection())\n        ? this.attrs.allowsExternal\n          ? [\n              <img\n                className={classList({\n                  'icondropdown-activeIcon': true,\n                  'social-greyscale-button': this.attrs.selection() === 'favicon-grey',\n                  'social-button': !this.attrs.selection() === 'favicon-grey',\n                })}\n                alt=\"\"\n                src={this.attrs.favicon()}\n                onerror={() => {\n                  this.attrs.favicon('none');\n                  this.select(this.icons.social[0]);\n                }}\n              />,\n            ]\n          : ic('fas fa-globe')\n        : ic(this.attrs.selection()),\n      this.attrs.caretIcon ? icon(this.attrs.caretIcon, { className: 'Button-caret' }) : '',\n    ];\n  }\n\n  items() {\n    const items = new ItemList();\n\n    if (this.attrs.favicon() !== 'none' && this.attrs.allowsExternal) {\n      items.add(\n        'favicon',\n        <div\n          onclick={() => this.select('favicon')}\n          role=\"button\"\n          className={classList({\n            'iconpicker-item': true,\n            'iconpicker-item--highlighted': this.attrs.selection() === 'favicon',\n          })}\n          title=\"Favicon\"\n        >\n          <img\n            className={`iconpicker-image-${this.attrs.index()}`}\n            alt=\"favicon\"\n            style={{ width: '14px', height: '14px', margin: '0 2px 0 2px' }}\n            src={this.attrs.favicon()}\n          />\n        </div>,\n        102\n      );\n\n      items.add(\n        'favicon-grey',\n        <div\n          onclick={() => this.select('favicon-grey')}\n          role=\"button\"\n          className={classList({\n            'iconpicker-item iconpicker-item--invertColors': true,\n            'iconpicker-item--highlighted': this.attrs.selection() === 'favicon-grey',\n          })}\n          title=\"Grey Favicon\"\n        >\n          <img\n            className={`social-greyscale-button iconpicker-image-${this.attrs.index()}`}\n            alt=\"favicon\"\n            style={{ width: '14px', height: '14px', margin: '0 2px 0 2px' }}\n            src={this.attrs.favicon()}\n          />\n        </div>,\n        101\n      );\n    }\n\n    this.icons.social.forEach((curIcon) => {\n      items.add(\n        curIcon.replace(/ /, '-'),\n        <div\n          onclick={() => this.select(curIcon)}\n          className={classList({ 'iconpicker-item': true, 'iconpicker-item--highlighted': this.attrs.selection() === curIcon })}\n          role=\"button\"\n          title={`.${curIcon}`}\n        >\n          {icon(curIcon, { className: 'social-icon fa-fw' })}\n        </div>,\n        100\n      );\n    });\n\n    return items;\n  }\n\n  select(icon) {\n    this.attrs.selection(icon);\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport withAttr from 'flarum/common/utils/withAttr';\nimport extractUriHost from '../helpers/extractUriHost';\nimport isValidUrl from '../helpers/isValidUrl';\nimport IconSelectorComponent from './IconSelectorComponent';\n\nexport default class WebsiteInputComponent extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.button = this.attrs.button;\n\n    this.allowsExternal = app.forum.attribute('fof-socialprofile.allow_external_favicons');\n  }\n\n  view(vnode) {\n    return (\n      <div className=\"Form-group form-group-social\" id={`socialgroup-${this.button.index()}`}>\n        <input\n          type=\"text\"\n          className=\"FormControl SocialFormControl SocialFormControl-title\"\n          placeholder={app.translator.trans('fof-socialprofile.forum.edit.title')}\n          tabIndex={(this.button.index() + 1) * 2 - 1}\n          bidi={this.button.title}\n        />\n\n        {IconSelectorComponent.component({\n          selection: this.button.icon,\n          favicon: this.button.favicon,\n          index: this.button.index,\n          allowsExternal: this.allowsExternal,\n        })}\n\n        <input\n          type=\"text\"\n          className=\"FormControl SocialFormControl SocialFormControl-url\"\n          placeholder={app.translator.trans('fof-socialprofile.forum.edit.url')}\n          tabIndex={(this.button.index() + 1) * 2}\n          value={this.button.url()}\n          onchange={withAttr('value', this.onUrlChange.bind(this))}\n        />\n\n        <input\n          type=\"hidden\"\n          className=\"FormControl SocialFormControl SocialFormControl-icon\"\n          id={`icon${this.button.index()}-icon`}\n          bidi={this.button.icon}\n        />\n\n        <input\n          type=\"hidden\"\n          className=\"SocialFormControl SocialFormControl-favicon\"\n          id={`icon${this.button.index()}-favicon`}\n          bidi={this.button.favicon}\n        />\n      </div>\n    );\n  }\n\n  onUrlChange(value) {\n    this.button.url(value);\n\n    if (!this.allowsExternal) {\n      return;\n    }\n\n    clearTimeout(this.waitUntilFinished);\n\n    if (this.button.icon() !== 'fas fa-circle-notch fa-spin') {\n      this.button.icon('fas fa-circle-notch fa-spin');\n      this.button.favicon('none');\n    }\n\n    this.waitUntilFinished = setTimeout(() => {\n      if (isValidUrl(this.button.url())) {\n        const iconurl = `https://icons.duckduckgo.com/ip3/${extractUriHost(this.button.url())}.ico`;\n\n        this.button.favicon(iconurl);\n        this.button.icon('favicon');\n\n        m.redraw();\n      } else {\n        this.button.icon('fas fa-globe');\n        this.button.favicon('none');\n        m.redraw();\n      }\n    }, 1000);\n  }\n}\n","/**\n * Verifies if a string is a valid URL (http/https only).\n *\n * @param {string} url URL to test\n */\nexport default function isValidUrl(url) {\n  let urlInstance;\n\n  try {\n    urlInstance = new URL(url);\n  } catch (_) {\n    return false;\n  }\n\n  return ['http:', 'https:'].includes(urlInstance.protocol);\n}\n","/**\n * Extracts the host of a specified URI. Returns `null` if the URL is invalid.\n *\n * @example\n * // www.google.com\n * extractBaseUrl(\"https://www.google.com/search?q=flarum\")\n *\n * @example\n * // discuss.flarum.org\n * extractBaseUrl(\"https://discuss.flarum.org/u/admin\")\n *\n * @example\n * // null\n * extractBaseUrl(\"javascript:alert('hello!')\")\n *\n * @param {string|null} url URL to extract base from\n */\nexport default function extractUriHost(url) {\n  let urlInstance;\n\n  try {\n    urlInstance = new URL(url);\n  } catch (_) {\n    return null;\n  }\n\n  if (['http:', 'https:'].includes(urlInstance.protocol)) {\n    return urlInstance.host;\n  }\n\n  return null;\n}\n","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport WebsiteInputComponent from './WebsiteInputComponent';\n\nexport default class SocialButtonsModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.buttons = [];\n    const buttons = this.attrs.user.socialButtons();\n\n    if (buttons.length) {\n      buttons.forEach((button, index) => {\n        if (button && button.title) {\n          this.createButtonObject(index, button);\n        }\n      });\n    } else {\n      this.createButtonObject(0);\n    }\n  }\n\n  className() {\n    return 'SocialButtonsModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('fof-socialprofile.forum.edit.headtitle');\n  }\n\n  content() {\n    const areAnyIconsBeingFetched = this.buttons.some((button) => button.icon() === 'fas fa-circle-notch fa-spin');\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          {this.buttons.map((button) => WebsiteInputComponent.component({ button }))}\n\n          <div className=\"Form-group\" id=\"submit-button-group\">\n            <div className=\"Button Button--primary EditSocialButtons-add\" style=\"margin-left: 1%;\" onclick={this.addSocialButton.bind(this)}>\n              <i className=\"fas fa-fw fa-plus\" />\n            </div>\n\n            <div className=\"Button Button--primary EditSocialButtons-del\" style=\"margin-left: 1%;\" onclick={this.delSocialButton.bind(this)}>\n              <i className=\"fas fa-fw fa-minus\" />\n            </div>\n\n            {Button.component(\n              {\n                type: 'submit',\n                style: 'float: right;',\n                className: 'Button Button--primary EditSocialButtons-save',\n                loading: this.loading,\n                // Disable save button if favicons are being fetched\n                disabled: areAnyIconsBeingFetched,\n                title: areAnyIconsBeingFetched ? app.translator.trans('fof-socialprofile.forum.edit.save_disabled_fetching_favicons') : null,\n              },\n              app.translator.trans('fof-socialprofile.forum.edit.submit')\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  data() {\n    const buttons = [];\n\n    this.buttons.forEach((button) => {\n      if (button && button.title() && button.url()) {\n        buttons.push({\n          title: button.title(),\n          url: button.url(),\n          icon: button.icon(),\n          favicon: button.favicon(),\n        });\n      }\n    });\n\n    return {\n      socialButtons: JSON.stringify(buttons),\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.attrs.user\n      .save(this.data(), { errorHandler: this.onerror.bind(this) })\n      .then(this.hide.bind(this))\n      .then($('#app').trigger('refreshSocialButtons', [this.data().socialButtons]))\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  addSocialButton() {\n    this.createButtonObject(this.buttons.length);\n\n    m.redraw();\n\n    $('document').ready(() => {\n      $(`#socialgroup-${this.buttons.length - 1}`).slideDown();\n    });\n  }\n\n  delSocialButton() {\n    const curdel = this.buttons.length - 1;\n\n    $(`#socialgroup-${curdel}`).slideUp('normal', () => {\n      this.buttons.splice(curdel, 1);\n      m.redraw();\n    });\n  }\n\n  createButtonObject(key, button = null) {\n    if (button == null) {\n      this.buttons[key] = {};\n      this.buttons[key].index = Stream(key);\n      this.buttons[key].favicon = Stream('none');\n      this.buttons[key].title = Stream('');\n      this.buttons[key].url = Stream('');\n      this.buttons[key].icon = Stream('fas fa-globe');\n    } else {\n      this.buttons[key] = {};\n      this.buttons[key].index = Stream(key);\n      this.buttons[key].favicon = Stream(button.favicon);\n      this.buttons[key].title = Stream(button.title);\n      this.buttons[key].url = Stream(button.url);\n      this.buttons[key].icon = Stream(button.icon);\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport Model from 'flarum/common/Model';\nimport User from 'flarum/common/models/User';\nimport { extend } from 'flarum/common/extend';\nimport UserCard from 'flarum/forum/components/UserCard';\nimport Badge from 'flarum/common/components/Badge';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\n\nimport SocialButtonsModal from './components/SocialButtonsModal';\n\napp.initializers.add('fof/socialprofile', () => {\n  User.prototype.socialButtons = Model.attribute('socialButtons', (str) => JSON.parse(str || '[]'));\n  User.prototype.canViewSocialProfile = Model.attribute('canViewSocialProfile');\n  User.prototype.canEditSocialProfile = Model.attribute('canEditSocialProfile');\n\n  extend(UserCard.prototype, 'infoItems', function (items) {\n    const user = this.attrs.user;\n\n    if (!user.canViewSocialProfile()) {\n      return;\n    }\n\n    this.canEdit = user.canEditSocialProfile();\n    this.buttons = this.attrs.user.socialButtons();\n\n    const buttonList = new ItemList();\n\n    if (this.buttons.length) {\n      this.buttons.forEach((button, index) => {\n        if (button && button.title && button.icon && button.url) {\n          let buttonStyle = {};\n          let buttonClassName = classList({\n            [`social-button ${button.icon}-${index} social-icon-${index}`]: true,\n            'social-greyscale-button': button.icon === 'favicon-grey',\n          });\n\n          if (button.icon === 'favicon' || button.icon === 'favicon-grey') {\n            if (app.forum.attribute('fof-socialprofile.allow_external_favicons')) {\n              buttonStyle = {\n                backgroundImage: `url(\"${button.favicon}\")`,\n                backgroundSize: '60%',\n                backgroundPosition: 'center',\n                backgroundRepeat: 'no-repeat',\n              };\n            } else {\n              buttonClassName += ' fas fa-globe';\n            }\n          }\n\n          buttonList.add(\n            `social-icon-${index}`,\n            <a href={button.url} target=\"_blank\" rel=\"noreferrer noopener nofollow\">\n              {Badge.component({\n                className: classList({ [buttonClassName]: true, 'social-icon--deleting': this.deleting }),\n                type: `social`,\n                icon: button.icon,\n                label: button.title,\n                style: buttonStyle,\n              })}\n            </a>\n          );\n        }\n      });\n\n      if (this.canEdit) {\n        buttonList.add(\n          'settings social-button',\n          Badge.component({\n            type: 'social social-settings',\n            icon: 'fas fa-cog',\n            label: app.translator.trans('fof-socialprofile.forum.edit.edit'),\n            onclick: () => {\n              app.modal.show(SocialButtonsModal, { user: this.attrs.user });\n            },\n          }),\n          -1\n        );\n      }\n    } else if (this.canEdit) {\n      buttonList.add(\n        'settings social-button',\n        Badge.component({\n          type: 'social null-social-settings',\n          icon: 'fas fa-plus',\n          label: app.translator.trans('fof-socialprofile.forum.edit.add'),\n          onclick: () => {\n            app.modal.show(SocialButtonsModal, { user: this.attrs.user });\n          },\n        }),\n        -1\n      );\n    }\n\n    if (buttonList.toArray().length > 0) {\n      items.add('fofsocialprofile', buttonList.toArray(), 20);\n    }\n  });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","IconSelectorComponent","_Dropdown","apply","arguments","initAttrs","attrs","className","buttonClassName","menuClassName","_proto","oninit","vnode","this","icons","social","view","children","items","toArray","getButtonContent","_this","ic","str","icon","test","selection","allowsExternal","m","classList","alt","src","favicon","onerror","select","caretIcon","_this2","ItemList","add","onclick","role","title","index","style","width","height","margin","forEach","curIcon","replace","Dropdown","WebsiteInputComponent","_Component","button","app","id","type","placeholder","tabIndex","bidi","component","url","onchange","withAttr","onUrlChange","bind","clearTimeout","waitUntilFinished","setTimeout","urlInstance","URL","_","includes","protocol","isValidUrl","iconurl","host","extractUriHost","redraw","Component","SocialButtonsModal","_Modal","buttons","user","socialButtons","length","createButtonObject","content","areAnyIconsBeingFetched","some","map","addSocialButton","delSocialButton","Button","loading","disabled","data","push","JSON","stringify","onsubmit","e","preventDefault","save","errorHandler","then","hide","$","trigger","_this3","ready","slideDown","_this4","curdel","slideUp","splice","Stream","Modal","User","Model","parse","extend","UserCard","canViewSocialProfile","canEdit","canEditSocialProfile","buttonList","_classList","_classList2","buttonStyle","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","href","target","rel","Badge","deleting","label"],"sourceRoot":""}