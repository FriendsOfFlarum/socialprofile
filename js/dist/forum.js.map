{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@fof/socialprofile/webpack/bootstrap","webpack://@fof/socialprofile/webpack/runtime/compat get default export","webpack://@fof/socialprofile/webpack/runtime/define property getters","webpack://@fof/socialprofile/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/socialprofile/webpack/runtime/make namespace object","webpack://@fof/socialprofile/external root \"flarum.core.compat['forum/app']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/models/User']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Badge']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@fof/socialprofile/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/socialprofile/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/withAttr']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/socialprofile/./src/forum/components/IconSelectorComponent.js","webpack://@fof/socialprofile/./src/forum/components/WebsiteInputComponent.js","webpack://@fof/socialprofile/./src/forum/helpers/isValidUrl.js","webpack://@fof/socialprofile/./src/forum/helpers/extractBaseUrl.js","webpack://@fof/socialprofile/./src/forum/components/SocialButtonsModal.js","webpack://@fof/socialprofile/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Badge'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/withAttr'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import Dropdown from 'flarum/common/components/Dropdown';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport icon from 'flarum/common/helpers/icon';\nimport classList from 'flarum/common/utils/classList';\n\nexport default class IconSelectorComponent extends Dropdown {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.className = 'icondropdown';\n    attrs.buttonClassName = 'Button Button--icon';\n    attrs.menuClassName = 'social-dropdown-menu';\n  }\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.icons = {\n      social: [\n        'fas fa-envelope',\n        'fas fa-globe',\n        'fab fa-amazon',\n        'fab fa-angellist',\n        'fab fa-apple',\n        'fab fa-behance',\n        'fab fa-bitbucket',\n        'fab fa-codepen',\n        'fab fa-connectdevelop',\n        'fab fa-dashcube',\n        'fab fa-delicious',\n        'fab fa-deviantart',\n        'fab fa-digg',\n        'fab fa-discord',\n        'fab fa-dribbble',\n        'fab fa-dropbox',\n        'fab fa-drupal',\n        'fab fa-facebook',\n        'fab fa-flickr',\n        'fab fa-foursquare',\n        'fab fa-get-pocket',\n        'fab fa-git',\n        'fab fa-github',\n        'fab fa-github-alt',\n        'fab fa-google',\n        'fab fa-google-plus',\n        'fab fa-google-wallet',\n        'fab fa-hacker-news',\n        'fab fa-instagram',\n        'fab fa-ioxhost',\n        'fab fa-joomla',\n        'fab fa-jsfiddle',\n        'fab fa-lastfm',\n        'fab fa-leanpub',\n        'fab fa-linkedin',\n        'fab fa-mastodon',\n        'fab fa-medium',\n        'fab fa-odnoklassniki',\n        'fab fa-opencart',\n        'fab fa-pagelines',\n        'fab fa-paypal',\n        'fab fa-pied-piper-alt',\n        'fab fa-pinterest-p',\n        'fab fa-playstation',\n        'fab fa-qq',\n        'fab fa-reddit',\n        'fab fa-renren',\n        'fab fa-sellsy',\n        'fas fa-share-alt',\n        'fab fa-shirtsinbulk',\n        'fab fa-simplybuilt',\n        'fab fa-skyatlas',\n        'fab fa-skype',\n        'fab fa-slack',\n        'fab fa-slideshare',\n        'fab fa-soundcloud',\n        'fab fa-spotify',\n        'fab fa-stack-exchange',\n        'fab fa-stack-overflow',\n        'fab fa-steam',\n        'fab fa-stumbleupon',\n        'fab fa-telegram',\n        'fab fa-tencent-weibo',\n        'fab fa-trello',\n        'fab fa-tripadvisor',\n        'fab fa-tumblr',\n        'fab fa-twitch',\n        'fab fa-twitter',\n        'fab fa-viacoin',\n        'fab fa-vimeo',\n        'fab fa-vine',\n        'fab fa-vk',\n        'fab fa-weibo',\n        'fab fa-weixin',\n        'fab fa-whatsapp',\n        'fab fa-wordpress',\n        'fab fa-xbox',\n        'fab fa-xing',\n        'fab fa-y-combinator',\n        'fab fa-yandex',\n        'fab fa-yandex-international',\n        'fab fa-yelp',\n        'fab fa-youtube',\n      ],\n    };\n  }\n\n  view(vnode) {\n    vnode.children = this.items().toArray();\n\n    return super.view(vnode);\n  }\n\n  getButtonContent() {\n    const ic = (str) => icon(str, { className: 'icondropdown-activeIcon fa-fw' });\n\n    return [\n      /^favicon(-\\w+)?$/.test(this.attrs.selection())\n        ? this.attrs.allowsExternal\n          ? [\n              <img\n                className={classList({\n                  'icondropdown-activeIcon': true,\n                  'social-greyscale-button': this.attrs.selection() === 'favicon-grey',\n                  'social-button': !this.attrs.selection() === 'favicon-grey',\n                })}\n                alt=\"\"\n                src={this.attrs.favicon()}\n                onerror={() => {\n                  this.attrs.favicon('none');\n                  this.select(this.icons.social[0]);\n                }}\n              />,\n            ]\n          : ic('fas fa-globe')\n        : ic(this.attrs.selection()),\n      this.attrs.caretIcon ? icon(this.attrs.caretIcon, { className: 'Button-caret' }) : '',\n    ];\n  }\n\n  items() {\n    const items = new ItemList();\n\n    if (this.attrs.favicon() !== 'none' && this.attrs.allowsExternal) {\n      items.add(\n        'favicon',\n        <div\n          onclick={() => this.select('favicon')}\n          role=\"button\"\n          className={classList({\n            'iconpicker-item': true,\n            'iconpicker-item--highlighted': this.attrs.selection() === 'favicon',\n          })}\n          title=\"Favicon\"\n        >\n          <img\n            className={`iconpicker-image-${this.attrs.index()}`}\n            alt=\"favicon\"\n            style={{ width: '14px', height: '14px', margin: '0 2px 0 2px' }}\n            src={this.attrs.favicon()}\n          />\n        </div>,\n        102\n      );\n\n      items.add(\n        'favicon-grey',\n        <div\n          onclick={() => this.select('favicon-grey')}\n          role=\"button\"\n          className={classList({\n            'iconpicker-item iconpicker-item--invertColors': true,\n            'iconpicker-item--highlighted': this.attrs.selection() === 'favicon-grey',\n          })}\n          title=\"Grey Favicon\"\n        >\n          <img\n            className={`social-greyscale-button iconpicker-image-${this.attrs.index()}`}\n            alt=\"favicon\"\n            style={{ width: '14px', height: '14px', margin: '0 2px 0 2px' }}\n            src={this.attrs.favicon()}\n          />\n        </div>,\n        101\n      );\n    }\n\n    this.icons.social.forEach((curIcon) => {\n      items.add(\n        curIcon.replace(/ /, '-'),\n        <div\n          onclick={() => this.select(curIcon)}\n          className={classList({ 'iconpicker-item': true, 'iconpicker-item--highlighted': this.attrs.selection() === curIcon })}\n          role=\"button\"\n          title={`.${curIcon}`}\n        >\n          {icon(curIcon, { className: 'social-icon fa-fw' })}\n        </div>,\n        100\n      );\n    });\n\n    return items;\n  }\n\n  select(icon) {\n    this.attrs.selection(icon);\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport withAttr from 'flarum/common/utils/withAttr';\nimport extractBaseUrl from '../helpers/extractBaseUrl';\nimport isValidUrl from '../helpers/isValidUrl';\nimport IconSelectorComponent from './IconSelectorComponent';\n\nexport default class WebsiteInputComponent extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.button = this.attrs.button;\n\n    this.allowsExternal = app.forum.attribute('fof-socialprofile.allow_external_favicons');\n  }\n\n  view(vnode) {\n    return (\n      <div className=\"Form-group form-group-social\" id={`socialgroup-${this.button.index()}`}>\n        <input\n          type=\"text\"\n          className=\"FormControl SocialFormControl SocialFormControl-title\"\n          placeholder={app.translator.trans('fof-socialprofile.forum.edit.title')}\n          tabIndex={(this.button.index() + 1) * 2 - 1}\n          bidi={this.button.title}\n        />\n\n        {IconSelectorComponent.component({\n          selection: this.button.icon,\n          favicon: this.button.favicon,\n          index: this.button.index,\n          allowsExternal: this.allowsExternal,\n        })}\n\n        <input\n          type=\"text\"\n          className=\"FormControl SocialFormControl SocialFormControl-url\"\n          placeholder={app.translator.trans('fof-socialprofile.forum.edit.url')}\n          tabIndex={(this.button.index() + 1) * 2}\n          value={this.button.url()}\n          onchange={withAttr('value', this.onUrlChange.bind(this))}\n        />\n\n        <input\n          type=\"hidden\"\n          className=\"FormControl SocialFormControl SocialFormControl-icon\"\n          id={`icon${this.button.index()}-icon`}\n          bidi={this.button.icon}\n        />\n\n        <input\n          type=\"hidden\"\n          className=\"SocialFormControl SocialFormControl-favicon\"\n          id={`icon${this.button.index()}-favicon`}\n          bidi={this.button.favicon}\n        />\n      </div>\n    );\n  }\n\n  onUrlChange(value) {\n    this.button.url(value);\n\n    if (!this.allowsExternal) {\n      return;\n    }\n\n    clearTimeout(this.waitUntilFinished);\n\n    if (this.button.icon() !== 'fas fa-circle-notch fa-spin') {\n      this.button.icon('fas fa-circle-notch fa-spin');\n      this.button.favicon('none');\n    }\n\n    this.waitUntilFinished = setTimeout(() => {\n      if (isValidUrl(this.button.url())) {\n        const iconurl = `${extractBaseUrl(this.button.url())}/favicon.ico`;\n\n        this.button.favicon(iconurl);\n        this.button.icon('favicon');\n\n        m.redraw();\n      } else {\n        this.button.icon('fas fa-globe');\n        this.button.favicon('none');\n        m.redraw();\n      }\n    }, 1000);\n  }\n}\n","/**\n * Verifies if a string is a valid URL (http/https only).\n *\n * @param {string} url URL to test\n */\nexport default function isValidUrl(url) {\n  let urlInstance;\n\n  try {\n    urlInstance = new URL(url);\n  } catch (_) {\n    return false;\n  }\n\n  return ['http:', 'https:'].includes(urlInstance.protocol);\n}\n","/**\n * Extracts the base URL of a specified URL. Returns `null` if the URL is invalid.\n *\n * @example\n * // https://www.google.com\n * extractBaseUrl(\"https://www.google.com/search?q=flarum\")\n *\n * @example\n * // https://discuss.flarum.org\n * extractBaseUrl(\"https://discuss.flarum.org/u/admin\")\n *\n * @example\n * // null\n * extractBaseUrl(\"javascript:alert('hello!')\")\n *\n * @param {string|null} url URL to extract base from\n */\nexport default function extractBaseUrl(url) {\n  let urlInstance;\n\n  try {\n    urlInstance = new URL(url);\n  } catch (_) {\n    return null;\n  }\n\n  if (['http:', 'https:'].includes(urlInstance.protocol)) {\n    return urlInstance.origin;\n  }\n\n  return null;\n}\n","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport WebsiteInputComponent from './WebsiteInputComponent';\n\nexport default class SocialButtonsModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.buttons = [];\n    const buttons = this.attrs.user.socialButtons();\n\n    if (buttons.length) {\n      buttons.forEach((button, index) => {\n        if (button && button.title) {\n          this.createButtonObject(index, button);\n        }\n      });\n    } else {\n      this.createButtonObject(0);\n    }\n  }\n\n  className() {\n    return 'SocialButtonsModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('fof-socialprofile.forum.edit.headtitle');\n  }\n\n  content() {\n    const areAnyIconsBeingFetched = this.buttons.some((button) => button.icon() === 'fas fa-circle-notch fa-spin');\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          {this.buttons.map((button) => WebsiteInputComponent.component({ button }))}\n\n          <div className=\"Form-group\" id=\"submit-button-group\">\n            <div className=\"Button Button--primary EditSocialButtons-add\" style=\"margin-left: 1%;\" onclick={this.addSocialButton.bind(this)}>\n              <i className=\"fas fa-fw fa-plus\" />\n            </div>\n\n            <div className=\"Button Button--primary EditSocialButtons-del\" style=\"margin-left: 1%;\" onclick={this.delSocialButton.bind(this)}>\n              <i className=\"fas fa-fw fa-minus\" />\n            </div>\n\n            {Button.component(\n              {\n                type: 'submit',\n                style: 'float: right;',\n                className: 'Button Button--primary EditSocialButtons-save',\n                loading: this.loading,\n                // Disable save button if favicons are being fetched\n                disabled: areAnyIconsBeingFetched,\n                title: areAnyIconsBeingFetched ? app.translator.trans('fof-socialprofile.forum.edit.save_disabled_fetching_favicons') : null,\n              },\n              app.translator.trans('fof-socialprofile.forum.edit.submit')\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  data() {\n    const buttons = [];\n\n    this.buttons.forEach((button) => {\n      if (button && button.title() && button.url()) {\n        buttons.push({\n          title: button.title(),\n          url: button.url(),\n          icon: button.icon(),\n          favicon: button.favicon(),\n        });\n      }\n    });\n\n    console.log(JSON.stringify(buttons));\n\n    return {\n      socialButtons: JSON.stringify(buttons),\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.attrs.user\n      .save(this.data(), { errorHandler: this.onerror.bind(this) })\n      .then(this.hide.bind(this))\n      .then($('#app').trigger('refreshSocialButtons', [this.data().socialButtons]))\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  addSocialButton() {\n    this.createButtonObject(this.buttons.length);\n\n    m.redraw();\n\n    $('document').ready(() => {\n      $(`#socialgroup-${this.buttons.length - 1}`).slideDown();\n    });\n  }\n\n  delSocialButton() {\n    const curdel = this.buttons.length - 1;\n\n    $(`#socialgroup-${curdel}`).slideUp('normal', () => {\n      this.buttons.splice(curdel, 1);\n      m.redraw();\n    });\n  }\n\n  createButtonObject(key, button = null) {\n    if (button == null) {\n      this.buttons[key] = {};\n      this.buttons[key].index = Stream(key);\n      this.buttons[key].favicon = Stream('none');\n      this.buttons[key].title = Stream('');\n      this.buttons[key].url = Stream('');\n      this.buttons[key].icon = Stream('fas fa-globe');\n    } else {\n      this.buttons[key] = {};\n      this.buttons[key].index = Stream(key);\n      this.buttons[key].favicon = Stream(button.favicon);\n      this.buttons[key].title = Stream(button.title);\n      this.buttons[key].url = Stream(button.url);\n      this.buttons[key].icon = Stream(button.icon);\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport Model from 'flarum/common/Model';\nimport User from 'flarum/common/models/User';\nimport { extend } from 'flarum/common/extend';\nimport UserCard from 'flarum/forum/components/UserCard';\nimport Badge from 'flarum/common/components/Badge';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\n\nimport SocialButtonsModal from './components/SocialButtonsModal';\n\napp.initializers.add('fof/socialprofile', () => {\n  User.prototype.socialButtons = Model.attribute('socialButtons', (str) => JSON.parse(str || '[]'));\n  User.prototype.canViewSocialProfile = Model.attribute('canViewSocialProfile');\n  User.prototype.canEditSocialProfile = Model.attribute('canEditSocialProfile');\n\n  extend(UserCard.prototype, 'infoItems', function (items) {\n    const user = this.attrs.user;\n\n    if (!user.canViewSocialProfile()) {\n      return;\n    }\n\n    this.canEdit = user.canEditSocialProfile();\n    this.buttons = this.attrs.user.socialButtons();\n\n    const buttonList = new ItemList();\n\n    if (this.buttons.length) {\n      this.buttons.forEach((button, index) => {\n        if (button && button.title && button.icon && button.url) {\n          let buttonStyle = '';\n          let buttonClassName = classList({\n            [`social-button ${button.icon}-${index} social-icon-${index}`]: true,\n            'social-greyscale-button': button.icon === 'favicon-grey',\n          });\n\n          if (button.icon === 'favicon' || button.icon === 'favicon-grey') {\n            if (app.forum.attribute('fof-socialprofile.allow_external_favicons')) {\n              buttonStyle = `\n                                background-image: url(\"${button.favicon}\");\n                                background-size: 60%;\n                                background-position: center;\n                                background-repeat: no-repeat;\n                            `;\n            } else {\n              buttonClassName += ' fas fa-globe';\n            }\n          }\n\n          buttonList.add(\n            `social-icon-${index}`,\n            <a href={button.url} target=\"_blank\" rel=\"noreferrer noopener nofollow\">\n              {Badge.component({\n                className: classList({ [buttonClassName]: true, 'social-icon--deleting': this.deleting }),\n                type: `social`,\n                icon: button.icon,\n                label: button.title,\n                style: buttonStyle,\n              })}\n            </a>\n          );\n        }\n      });\n\n      if (this.canEdit) {\n        buttonList.add(\n          'settings social-button',\n          Badge.component({\n            type: 'social social-settings',\n            icon: 'fas fa-cog',\n            label: app.translator.trans('fof-socialprofile.forum.edit.edit'),\n            onclick: () => {\n              app.modal.show(SocialButtonsModal, { user: this.attrs.user });\n            },\n          }),\n          -1\n        );\n      }\n    } else if (this.canEdit) {\n      buttonList.add(\n        'settings social-button',\n        Badge.component({\n          type: 'social null-social-settings',\n          icon: 'fas fa-plus',\n          label: app.translator.trans('fof-socialprofile.forum.edit.add'),\n          onclick: () => {\n            app.modal.show(SocialButtonsModal, { user: this.attrs.user });\n          },\n        }),\n        -1\n      );\n    }\n\n    if (buttonList.toArray().length > 0) {\n      if (items.has('lastSeen')) {\n        items.replace('lastSeen', items['lastSeen'], 50);\n      }\n      if (items.has('joined')) {\n        items.replace('joined', items['joined'], 40);\n      }\n\n      items.add('fofsocialprofile', buttonList.toArray(), 20);\n    }\n  });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","IconSelectorComponent","initAttrs","attrs","className","buttonClassName","menuClassName","oninit","vnode","this","icons","social","view","children","items","toArray","getButtonContent","ic","str","icon","test","selection","allowsExternal","classList","alt","src","favicon","onerror","select","caretIcon","ItemList","add","onclick","role","title","index","style","width","height","margin","forEach","curIcon","replace","Dropdown","WebsiteInputComponent","button","app","id","type","placeholder","tabIndex","bidi","component","url","onchange","withAttr","onUrlChange","bind","clearTimeout","waitUntilFinished","setTimeout","urlInstance","URL","_","includes","protocol","isValidUrl","iconurl","origin","extractBaseUrl","m","redraw","Component","SocialButtonsModal","buttons","user","socialButtons","length","createButtonObject","content","areAnyIconsBeingFetched","some","map","addSocialButton","delSocialButton","Button","loading","disabled","data","push","console","log","JSON","stringify","onsubmit","e","preventDefault","save","errorHandler","then","hide","$","trigger","ready","slideDown","curdel","slideUp","splice","Stream","Modal","User","Model","parse","extend","UserCard","canViewSocialProfile","canEdit","canEditSocialProfile","buttonList","buttonStyle","href","target","rel","Badge","deleting","label","has"],"sourceRoot":""}