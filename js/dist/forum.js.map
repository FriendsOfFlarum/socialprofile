{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@fof/socialprofile/webpack/bootstrap","webpack://@fof/socialprofile/webpack/runtime/compat get default export","webpack://@fof/socialprofile/webpack/runtime/define property getters","webpack://@fof/socialprofile/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/socialprofile/external root \"flarum.core.compat['forum/app']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/models/User']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Badge']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@fof/socialprofile/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/socialprofile/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/utils/withAttr']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@fof/socialprofile/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/socialprofile/./src/forum/components/IconSelectorComponent.js","webpack://@fof/socialprofile/./src/forum/components/WebsiteInputComponent.js","webpack://@fof/socialprofile/./src/forum/helpers/isValidUrl.js","webpack://@fof/socialprofile/./src/forum/helpers/extractUriHost.js","webpack://@fof/socialprofile/./src/forum/components/SocialButtonsModal.js","webpack://@fof/socialprofile/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/User'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Badge'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/withAttr'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import Dropdown from 'flarum/common/components/Dropdown';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport icon from 'flarum/common/helpers/icon';\nimport classList from 'flarum/common/utils/classList';\n\nexport default class IconSelectorComponent extends Dropdown {\n  static initAttrs(attrs) {\n    super.initAttrs(attrs);\n\n    attrs.className = 'icondropdown';\n    attrs.buttonClassName = 'Button Button--icon';\n    attrs.menuClassName = 'social-dropdown-menu';\n  }\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.icons = {\n      social: [\n        'fas fa-envelope',\n        'fas fa-globe',\n        'fab fa-amazon',\n        'fab fa-angellist',\n        'fab fa-apple',\n        'fab fa-behance',\n        'fab fa-bitbucket',\n        'fab fa-codepen',\n        'fab fa-connectdevelop',\n        'fab fa-dashcube',\n        'fab fa-delicious',\n        'fab fa-deviantart',\n        'fab fa-digg',\n        'fab fa-discord',\n        'fab fa-dribbble',\n        'fab fa-dropbox',\n        'fab fa-drupal',\n        'fab fa-facebook',\n        'fab fa-flickr',\n        'fab fa-foursquare',\n        'fab fa-get-pocket',\n        'fab fa-git',\n        'fab fa-github',\n        'fab fa-github-alt',\n        'fab fa-google',\n        'fab fa-google-plus',\n        'fab fa-google-wallet',\n        'fab fa-hacker-news',\n        'fab fa-instagram',\n        'fab fa-ioxhost',\n        'fab fa-joomla',\n        'fab fa-jsfiddle',\n        'fab fa-lastfm',\n        'fab fa-leanpub',\n        'fab fa-linkedin',\n        'fab fa-mastodon',\n        'fab fa-medium',\n        'fab fa-odnoklassniki',\n        'fab fa-opencart',\n        'fab fa-pagelines',\n        'fab fa-paypal',\n        'fab fa-pied-piper-alt',\n        'fab fa-pinterest-p',\n        'fab fa-playstation',\n        'fab fa-qq',\n        'fab fa-reddit',\n        'fab fa-renren',\n        'fab fa-sellsy',\n        'fas fa-share-alt',\n        'fab fa-shirtsinbulk',\n        'fab fa-simplybuilt',\n        'fab fa-skyatlas',\n        'fab fa-skype',\n        'fab fa-slack',\n        'fab fa-slideshare',\n        'fab fa-soundcloud',\n        'fab fa-spotify',\n        'fab fa-stack-exchange',\n        'fab fa-stack-overflow',\n        'fab fa-steam',\n        'fab fa-stumbleupon',\n        'fab fa-telegram',\n        'fab fa-tencent-weibo',\n        'fab fa-trello',\n        'fab fa-tripadvisor',\n        'fab fa-tumblr',\n        'fab fa-twitch',\n        'fab fa-twitter',\n        'fab fa-viacoin',\n        'fab fa-vimeo',\n        'fab fa-vine',\n        'fab fa-vk',\n        'fab fa-weibo',\n        'fab fa-weixin',\n        'fab fa-whatsapp',\n        'fab fa-wordpress',\n        'fab fa-xbox',\n        'fab fa-xing',\n        'fab fa-y-combinator',\n        'fab fa-yandex',\n        'fab fa-yandex-international',\n        'fab fa-yelp',\n        'fab fa-youtube',\n      ],\n    };\n  }\n\n  view(vnode) {\n    vnode.children = this.items().toArray();\n\n    return super.view(vnode);\n  }\n\n  getButtonContent() {\n    const ic = (str) => icon(str, { className: 'icondropdown-activeIcon fa-fw' });\n\n    return [\n      /^favicon(-\\w+)?$/.test(this.attrs.selection())\n        ? this.attrs.allowsExternal\n          ? [\n              <img\n                className={classList({\n                  'icondropdown-activeIcon': true,\n                  'social-greyscale-button': this.attrs.selection() === 'favicon-grey',\n                  'social-button': !this.attrs.selection() === 'favicon-grey',\n                })}\n                alt=\"\"\n                src={this.attrs.favicon()}\n                onerror={() => {\n                  this.attrs.favicon('none');\n                  this.select(this.icons.social[0]);\n                }}\n              />,\n            ]\n          : ic('fas fa-globe')\n        : ic(this.attrs.selection()),\n      this.attrs.caretIcon ? icon(this.attrs.caretIcon, { className: 'Button-caret' }) : '',\n    ];\n  }\n\n  items() {\n    const items = new ItemList();\n\n    if (this.attrs.favicon() !== 'none' && this.attrs.allowsExternal) {\n      items.add(\n        'favicon',\n        <div\n          onclick={() => this.select('favicon')}\n          role=\"button\"\n          className={classList({\n            'iconpicker-item': true,\n            'iconpicker-item--highlighted': this.attrs.selection() === 'favicon',\n          })}\n          title=\"Favicon\"\n        >\n          <img\n            className={`iconpicker-image-${this.attrs.index()}`}\n            alt=\"favicon\"\n            style={{ width: '14px', height: '14px', margin: '0 2px 0 2px' }}\n            src={this.attrs.favicon()}\n          />\n        </div>,\n        102\n      );\n\n      items.add(\n        'favicon-grey',\n        <div\n          onclick={() => this.select('favicon-grey')}\n          role=\"button\"\n          className={classList({\n            'iconpicker-item iconpicker-item--invertColors': true,\n            'iconpicker-item--highlighted': this.attrs.selection() === 'favicon-grey',\n          })}\n          title=\"Grey Favicon\"\n        >\n          <img\n            className={`social-greyscale-button iconpicker-image-${this.attrs.index()}`}\n            alt=\"favicon\"\n            style={{ width: '14px', height: '14px', margin: '0 2px 0 2px' }}\n            src={this.attrs.favicon()}\n          />\n        </div>,\n        101\n      );\n    }\n\n    this.icons.social.forEach((curIcon) => {\n      items.add(\n        curIcon.replace(/ /, '-'),\n        <div\n          onclick={() => this.select(curIcon)}\n          className={classList({ 'iconpicker-item': true, 'iconpicker-item--highlighted': this.attrs.selection() === curIcon })}\n          role=\"button\"\n          title={`.${curIcon}`}\n        >\n          {icon(curIcon, { className: 'social-icon fa-fw' })}\n        </div>,\n        100\n      );\n    });\n\n    return items;\n  }\n\n  select(icon) {\n    this.attrs.selection(icon);\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport withAttr from 'flarum/common/utils/withAttr';\nimport extractUriHost from '../helpers/extractUriHost';\nimport isValidUrl from '../helpers/isValidUrl';\nimport IconSelectorComponent from './IconSelectorComponent';\n\nexport default class WebsiteInputComponent extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.button = this.attrs.button;\n\n    this.allowsExternal = app.forum.attribute('fof-socialprofile.allow_external_favicons');\n  }\n\n  view(vnode) {\n    return (\n      <div className=\"Form-group form-group-social\" id={`socialgroup-${this.button.index()}`}>\n        <input\n          type=\"text\"\n          className=\"FormControl SocialFormControl SocialFormControl-title\"\n          placeholder={app.translator.trans('fof-socialprofile.forum.edit.title')}\n          tabIndex={(this.button.index() + 1) * 2 - 1}\n          bidi={this.button.title}\n        />\n\n        {IconSelectorComponent.component({\n          selection: this.button.icon,\n          favicon: this.button.favicon,\n          index: this.button.index,\n          allowsExternal: this.allowsExternal,\n        })}\n\n        <input\n          type=\"text\"\n          className=\"FormControl SocialFormControl SocialFormControl-url\"\n          placeholder={app.translator.trans('fof-socialprofile.forum.edit.url')}\n          tabIndex={(this.button.index() + 1) * 2}\n          value={this.button.url()}\n          onchange={withAttr('value', this.onUrlChange.bind(this))}\n        />\n\n        <input\n          type=\"hidden\"\n          className=\"FormControl SocialFormControl SocialFormControl-icon\"\n          id={`icon${this.button.index()}-icon`}\n          bidi={this.button.icon}\n        />\n\n        <input\n          type=\"hidden\"\n          className=\"SocialFormControl SocialFormControl-favicon\"\n          id={`icon${this.button.index()}-favicon`}\n          bidi={this.button.favicon}\n        />\n      </div>\n    );\n  }\n\n  onUrlChange(value) {\n    this.button.url(value);\n\n    if (!this.allowsExternal) {\n      return;\n    }\n\n    clearTimeout(this.waitUntilFinished);\n\n    if (this.button.icon() !== 'fas fa-circle-notch fa-spin') {\n      this.button.icon('fas fa-circle-notch fa-spin');\n      this.button.favicon('none');\n    }\n\n    this.waitUntilFinished = setTimeout(() => {\n      if (isValidUrl(this.button.url())) {\n        const iconurl = `https://icons.duckduckgo.com/ip3/${extractUriHost(this.button.url())}.ico`;\n\n        this.button.favicon(iconurl);\n        this.button.icon('favicon');\n\n        m.redraw();\n      } else {\n        this.button.icon('fas fa-globe');\n        this.button.favicon('none');\n        m.redraw();\n      }\n    }, 1000);\n  }\n}\n","/**\n * Verifies if a string is a valid URL (http/https only).\n *\n * @param {string} url URL to test\n */\nexport default function isValidUrl(url) {\n  let urlInstance;\n\n  try {\n    urlInstance = new URL(url);\n  } catch (_) {\n    return false;\n  }\n\n  return ['http:', 'https:'].includes(urlInstance.protocol);\n}\n","/**\n * Extracts the host of a specified URI. Returns `null` if the URL is invalid.\n *\n * @example\n * // www.google.com\n * extractBaseUrl(\"https://www.google.com/search?q=flarum\")\n *\n * @example\n * // discuss.flarum.org\n * extractBaseUrl(\"https://discuss.flarum.org/u/admin\")\n *\n * @example\n * // null\n * extractBaseUrl(\"javascript:alert('hello!')\")\n *\n * @param {string|null} url URL to extract base from\n */\nexport default function extractUriHost(url) {\n  let urlInstance;\n\n  try {\n    urlInstance = new URL(url);\n  } catch (_) {\n    return null;\n  }\n\n  if (['http:', 'https:'].includes(urlInstance.protocol)) {\n    return urlInstance.host;\n  }\n\n  return null;\n}\n","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport WebsiteInputComponent from './WebsiteInputComponent';\n\nexport default class SocialButtonsModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.buttons = [];\n    const buttons = this.attrs.user.socialButtons();\n\n    if (buttons.length) {\n      buttons.forEach((button, index) => {\n        if (button && button.title) {\n          this.createButtonObject(index, button);\n        }\n      });\n    } else {\n      this.createButtonObject(0);\n    }\n  }\n\n  className() {\n    return 'SocialButtonsModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('fof-socialprofile.forum.edit.headtitle');\n  }\n\n  content() {\n    const areAnyIconsBeingFetched = this.buttons.some((button) => button.icon() === 'fas fa-circle-notch fa-spin');\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          {this.buttons.map((button) => WebsiteInputComponent.component({ button }))}\n\n          <div className=\"Form-group\" id=\"submit-button-group\">\n            <div className=\"Button Button--primary EditSocialButtons-add\" style=\"margin-left: 1%;\" onclick={this.addSocialButton.bind(this)}>\n              <i className=\"fas fa-fw fa-plus\" />\n            </div>\n\n            <div className=\"Button Button--primary EditSocialButtons-del\" style=\"margin-left: 1%;\" onclick={this.delSocialButton.bind(this)}>\n              <i className=\"fas fa-fw fa-minus\" />\n            </div>\n\n            {Button.component(\n              {\n                type: 'submit',\n                style: 'float: right;',\n                className: 'Button Button--primary EditSocialButtons-save',\n                loading: this.loading,\n                // Disable save button if favicons are being fetched\n                disabled: areAnyIconsBeingFetched,\n                title: areAnyIconsBeingFetched ? app.translator.trans('fof-socialprofile.forum.edit.save_disabled_fetching_favicons') : null,\n              },\n              app.translator.trans('fof-socialprofile.forum.edit.submit')\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  data() {\n    const buttons = [];\n\n    this.buttons.forEach((button) => {\n      if (button && button.title() && button.url()) {\n        buttons.push({\n          title: button.title(),\n          url: button.url(),\n          icon: button.icon(),\n          favicon: button.favicon(),\n        });\n      }\n    });\n\n    return {\n      socialButtons: JSON.stringify(buttons),\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.attrs.user\n      .save(this.data(), { errorHandler: this.onerror.bind(this) })\n      .then(this.hide.bind(this))\n      .then($('#app').trigger('refreshSocialButtons', [this.data().socialButtons]))\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  addSocialButton() {\n    this.createButtonObject(this.buttons.length);\n\n    m.redraw();\n\n    $('document').ready(() => {\n      $(`#socialgroup-${this.buttons.length - 1}`).slideDown();\n    });\n  }\n\n  delSocialButton() {\n    const curdel = this.buttons.length - 1;\n\n    $(`#socialgroup-${curdel}`).slideUp('normal', () => {\n      this.buttons.splice(curdel, 1);\n      m.redraw();\n    });\n  }\n\n  createButtonObject(key, button = null) {\n    if (button == null) {\n      this.buttons[key] = {};\n      this.buttons[key].index = Stream(key);\n      this.buttons[key].favicon = Stream('none');\n      this.buttons[key].title = Stream('');\n      this.buttons[key].url = Stream('');\n      this.buttons[key].icon = Stream('fas fa-globe');\n    } else {\n      this.buttons[key] = {};\n      this.buttons[key].index = Stream(key);\n      this.buttons[key].favicon = Stream(button.favicon);\n      this.buttons[key].title = Stream(button.title);\n      this.buttons[key].url = Stream(button.url);\n      this.buttons[key].icon = Stream(button.icon);\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport Model from 'flarum/common/Model';\nimport User from 'flarum/common/models/User';\nimport { extend } from 'flarum/common/extend';\nimport UserCard from 'flarum/forum/components/UserCard';\nimport Badge from 'flarum/common/components/Badge';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\n\nimport SocialButtonsModal from './components/SocialButtonsModal';\n\napp.initializers.add('fof/socialprofile', () => {\n  User.prototype.socialButtons = Model.attribute('socialButtons', (str) => JSON.parse(str || '[]'));\n  User.prototype.canViewSocialProfile = Model.attribute('canViewSocialProfile');\n  User.prototype.canEditSocialProfile = Model.attribute('canEditSocialProfile');\n\n  extend(UserCard.prototype, 'infoItems', function (items) {\n    const user = this.attrs.user;\n\n    if (!user.canViewSocialProfile()) {\n      return;\n    }\n\n    this.canEdit = user.canEditSocialProfile();\n    this.buttons = this.attrs.user.socialButtons();\n\n    const buttonList = new ItemList();\n\n    if (this.buttons.length) {\n      this.buttons.forEach((button, index) => {\n        if (button && button.title && button.icon && button.url) {\n          let buttonStyle = {};\n          let buttonClassName = classList({\n            [`social-button ${button.icon}-${index} social-icon-${index}`]: true,\n            'social-greyscale-button': button.icon === 'favicon-grey',\n          });\n\n          if (button.icon === 'favicon' || button.icon === 'favicon-grey') {\n            if (app.forum.attribute('fof-socialprofile.allow_external_favicons')) {\n              buttonStyle = {\n                backgroundImage: `url(\"${button.favicon}\")`,\n                backgroundSize: '60%',\n                backgroundPosition: 'center',\n                backgroundRepeat: 'no-repeat',\n              };\n            } else {\n              buttonClassName += ' fas fa-globe';\n            }\n          }\n\n          buttonList.add(\n            `social-icon-${index}`,\n            <a href={button.url} target=\"_blank\" rel=\"noreferrer noopener nofollow\">\n              {Badge.component({\n                className: classList({ [buttonClassName]: true, 'social-icon--deleting': this.deleting }),\n                type: `social`,\n                icon: button.icon,\n                label: button.title,\n                style: buttonStyle,\n              })}\n            </a>\n          );\n        }\n      });\n\n      if (this.canEdit) {\n        buttonList.add(\n          'settings social-button',\n          Badge.component({\n            type: 'social social-settings',\n            icon: 'fas fa-cog',\n            label: app.translator.trans('fof-socialprofile.forum.edit.edit'),\n            onclick: () => {\n              app.modal.show(SocialButtonsModal, { user: this.attrs.user });\n            },\n          }),\n          -1\n        );\n      }\n    } else if (this.canEdit) {\n      buttonList.add(\n        'settings social-button',\n        Badge.component({\n          type: 'social null-social-settings',\n          icon: 'fas fa-plus',\n          label: app.translator.trans('fof-socialprofile.forum.edit.add'),\n          onclick: () => {\n            app.modal.show(SocialButtonsModal, { user: this.attrs.user });\n          },\n        }),\n        -1\n      );\n    }\n\n    if (buttonList.toArray().length > 0) {\n      items.add('fofsocialprofile', buttonList.toArray(), 20);\n    }\n  });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","IconSelectorComponent","_Dropdown","apply","arguments","initAttrs","attrs","className","buttonClassName","menuClassName","_proto","oninit","vnode","this","icons","social","view","children","items","toArray","getButtonContent","_this","ic","str","icon","test","selection","allowsExternal","m","classList","alt","src","favicon","onerror","select","caretIcon","_this2","ItemList","add","onclick","role","title","index","style","width","height","margin","forEach","curIcon","replace","Dropdown","WebsiteInputComponent","_Component","button","app","attribute","id","type","placeholder","trans","tabIndex","bidi","component","value","url","onchange","withAttr","onUrlChange","bind","clearTimeout","waitUntilFinished","setTimeout","urlInstance","URL","_","includes","protocol","isValidUrl","iconurl","host","extractUriHost","redraw","Component","SocialButtonsModal","_Modal","buttons","user","socialButtons","length","createButtonObject","content","areAnyIconsBeingFetched","some","map","addSocialButton","delSocialButton","Button","loading","disabled","data","push","JSON","stringify","onsubmit","e","preventDefault","save","errorHandler","then","hide","$","trigger","_this3","ready","slideDown","_this4","curdel","slideUp","splice","Stream","Modal","User","Model","parse","canViewSocialProfile","canEditSocialProfile","extend","UserCard","canEdit","buttonList","_classList","_classList2","buttonStyle","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","href","target","rel","Badge","deleting","label","show"],"sourceRoot":""}